{"version":3,"sources":["uni-app:///main.js","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?2407","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?f029","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?6ccd","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?1f7d","uni-app:///pages/song/player.vue","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?f5c4","webpack:///F:/workSpace/wx/wx-music/pages/song/player.vue?da8e"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC8M;AAC9M,gBAAgB,sNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iLAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA6yB,CAAgB,6zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6Ej0B;;;;AAIA;;;;;;;;AAQA,qE;AACA;AACA,6B;AACA;AACA;AACA,0BADA;AAEA,oBAFA;AAGA,0BAHA,EADA;;AAMA,MANA,kBAMA;AACA;AACA,mBADA;AAEA,iBAFA;AAGA;AACA,cADA;AAEA,eAFA;AAGA,gBAHA;AAIA,kBAJA;AAKA,eALA;AAMA,kBANA,EAHA;;AAWA,qBAXA,EAWA;AACA,kBAZA,EAYA;AACA,eAbA,EAaA;AACA,eAdA;AAeA,oBAfA,EAeA;AACA,mBAhBA,EAgBA;AACA,gBAjBA,EAiBA;AACA,mBAlBA,EAkBA;AACA,qBAnBA,EAmBA;AACA,iBApBA;AAqBA,oBArBA;AAsBA,eAtBA,EAsBA;AACA,sBAvBA;AAwBA,kBAxBA,EAwBA;AACA,mBAzBA,EAyBA;AACA,gBA1BA,CA0BA;AA1BA;AA4BA,GAnCA;AAoCA,QApCA,kBAoCA,KApCA,EAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBADA,CADA,CAEA;AACA,OAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAvDA;AAwDA;AACA,mFADA;AAEA,eAFA,yBAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KARA;AASA,kBATA,4BASA;AACA;AACA,KAXA,GAxDA;;AAqEA;AACA,oGADA;AAEA,WAFA,qBAEA;AACA;AACA,uBADA;AAEA;AACA;AACA,8BADA;AAEA,mCAFA;AAGA,mBAHA;AAIA,4CAJA;AAKA,8BALA;AAMA,yDANA;AAOA,qHAPA;AAQA;AACA;AACA,aAVA;AAWA;AACA;AACA,aAbA;;AAeA,SAlBA;AAmBA;AACA;AACA,SArBA;;AAuBA,KA1BA;AA2BA,aA3BA,uBA2BA;AACA;AACA,uBADA;AAEA;AACA;AACA,SAJA;AAKA;AACA;AACA,0BADA,EACA;AACA;AACA;AACA;AACA,+CADA;AAEA,iDAFA;;AAIA;AACA,+BADA;AAEA,8BAFA;;AAIA,aAZA;AAaA;AACA;AACA,yCADA;AAEA,4BAFA;;AAIA,aAlBA;;AAoBA,SA1BA;;AA4BA,KAxDA;AAyDA,aAzDA,uBAyDA;AACA;AACA,KA3DA;AA4DA,aA5DA,uBA4DA;AACA;AACA,KA9DA;AA+DA;AACA,gBAhEA,wBAgEA,CAhEA,EAgEA;AACA;AACA;AACA;AACA,KApEA;AAqEA;AACA,QAtEA,kBAsEA;AACA;AACA;AACA;AACA,KA1EA;AA2EA;AACA,QA5EA,gBA4EA,MA5EA,EA4EA,KA5EA,EA4EA;AACA;AACA;AACA;AACA;AACA,KAjFA;AAkFA;AACA,YAnFA,oBAmFA,EAnFA,EAmFA;AACA;AACA;AACA;AACA;AACA,cADA;AAEA;AACA,eADA,GAFA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,4BAFA;;AAIA,WALA,EAKA,GALA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA,CAEA,GAFA;AAGA;AACA;AACA,gBADA;AAEA,mBAFA;AAGA,4BAHA;AAIA,mCAJA;AAKA,wBALA;AAMA,6CANA,CAMA;AANA;AAQA;AACA,iCADA;;AAGA;AACA,oCADA;AAEA,gBAFA;AAGA,mCAHA;AAIA,4BAJA;AAKA,6CALA,CAKA;AALA;AAOA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBADA;AAEA,4BAFA;AAGA,wBAHA;;AAKA;AACA;AACA,OArDA,EAqDA,KArDA,CAqDA;AACA;AACA;AACA,OAxDA;AAyDA;AACA;AACA,cADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,gDAFA;;AAIA;AACA;AACA;AACA,OA7BA;AA8BA;AACA,KAhLA;AAiLA;AACA,YAlLA,sBAkLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzLA;AA0LA;AACA,kBA3LA,4BA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,aAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhNA;AAiNA;AACA,aAlNA,uBAkNA;AACA;AACA;AACA;AACA;AACA,KAvNA;AAwNA;AACA,YAzNA,oBAyNA,OAzNA,EAyNA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA;AACA;AACA,2BADA;AAEA,sBAFA;;AAIA,SAfA;AAgBA;AACA;AACA,2BADA;AAEA,2BAFA;;AAIA,SArBA;;AAuBA,KAjPA;AAkPA,QAlPA,kBAkPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BADA,EADA;;AAIA;AACA;AACA,aANA;AAOA;AACA;AACA,aATA;;AAWA,SAlBA;AAmBA;AACA;AACA;AACA;AACA,qBADA;AAEA,oCAFA,EADA;;AAKA;AACA;AACA,aAPA;;AASA,SA9BA;;AAgCA,KAtRA;AAuRA;AACA,WAxRA,qBAwRA;AACA;AACA,uBADA;AAEA;AACA;AACA,SAJA;AAKA;AACA;AACA,0BADA,EACA;AACA;AACA;AACA;AACA,+CADA;AAEA,iDAFA;;AAIA;AACA,+BADA;AAEA,8BAFA;;AAIA,aAZA;AAaA;AACA;AACA,yCADA;AAEA,4BAFA;;AAIA,aAlBA;;AAoBA,SA1BA;;AA4BA,KArTA;AAsTA;AACA,cAvTA,wBAuTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAJA;AAKA;AACA;AACA;AACA,8BADA,EADA;;AAIA;AACA;AACA,aANA;AAOA;AACA;AACA,aATA;;AAWA,SApBA;;AAsBA,KAjVA;AAkVA;AACA,aAnVA,qBAmVA,EAnVA,EAmVA;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAJA;AAKA,aATA;;AAWA,SAhBA;;AAkBA;AACA;AACA,KAxWA;AAyWA;AACA,aA1WA,uBA0WA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAlXA;AAmXA;AACA,WApXA,qBAoXA;AACA;AACA,KAtXA,GArEA,E;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAA2+C,CAAgB,m8CAAG,EAAC,C;;;;;;;;;;;ACA//C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/song/player.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/song/player.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./player.vue?vue&type=template&id=108ee09c&scoped=true&\"\nvar renderjs\nimport script from \"./player.vue?vue&type=script&lang=js&\"\nexport * from \"./player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./player.vue?vue&type=style&index=0&id=108ee09c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"108ee09c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/song/player.vue\"\nexport default component.exports","export * from \"-!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./player.vue?vue&type=template&id=108ee09c&scoped=true&\"","var components\ntry {\n  components = {\n    navBar: function() {\n      return import(\n        /* webpackChunkName: \"components/nav-bar/nav-bar\" */ \"@/components/nav-bar/nav-bar.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./player.vue?vue&type=script&lang=js&\"","<!-- 歌曲播放页面 -->\r\n<template>\r\n\t<view class=\"song-player\">\r\n\t\t<view class=\"player-bgimg\" :style=\"'background-image:url('+song.picUrl+')'\"></view>\r\n\t\t<nav-bar :title=\"song.name\" :fixed=\"false\" :backgroundColor=\"bgColor\" :color=\"color\"></nav-bar>\r\n\t\t<view class=\"player-content\" v-if=\"isCanPlay\" :style=\"{height:height+'rpx'}\">\r\n\t\t\t<view v-show=\"!isLyric\" style=\"position: relative;\">\r\n\t\t\t\t<view class=\"player-img flex-center\" :class=\"[isPlay ? '' : 'stoped']\">\r\n\t\t\t\t\t<view class=\"circle flex-center\">\r\n\t\t\t\t\t\t<image class=\"img\" :src=\"song.picUrl\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"play-ctrol flex-align\">\r\n\t\t\t\t\t<view v-if=\"audiolist.length>1\" class=\"flex-item flex-align\" @click=\"prev\">\r\n\t\t\t\t\t\t<uni-icons type=\"arrowleft\" color=\"#fff\" size=\"50\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"isplay flex-center\" @click=\"playCtrol\">\r\n\t\t\t\t\t\t<view class=\"isplay-bg\"></view>\r\n\t\t\t\t\t\t<image class=\"isplay-img\" v-if=\"isPlay\" src=\"../../static/images/play.svg\" mode=\"\"></image>\r\n\t\t\t\t\t\t<image class=\"isplay-img\" v-if=\"!isPlay\" src=\"../../static/images/notplay.svg\" mode=\"\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"audiolist.length>1\" class=\"flex-item flex-align\" @click=\"next(false)\">\r\n\t\t\t\t\t\t<uni-icons type=\"arrowright\" color=\"#fff\" size=\"50\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"player-con-bot\">\r\n\t\t\t\t\t<view class=\"lyric-opcity player-lyric\" @click=\"toLyric\">\r\n\t\t\t\t\t\t<scroll-view v-if=\"lyric.length>0\" scroll-y=\"true\" :scroll-into-view=\"'cur-' + lyIndex\"\r\n\t\t\t\t\t\t\tstyle=\"height: 100%;\">\r\n\t\t\t\t\t\t\t<view :class=\"['ric','ellipsis',index==lyricIndex?'cur':'']\" :id=\"'cur-'+index\"\r\n\t\t\t\t\t\t\t\tstyle=\"height:60rpx\" v-for=\"(item,index) in lyric\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view v-if=\"lyric.length<=0\" class=\"nolyric ric cur flex-center\">\r\n\t\t\t\t\t\t\t{{lycur}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"slider-bar flex-align\">\r\n\t\t\t\t\t\t<view class=\"time start\">{{curPlayTimeNum}}</view>\r\n\t\t\t\t\t\t<slider class=\"line\" :value=\"curPlayTime\" :min=\"0\" :max=\"playTime\" @change=\"sliderChange\"\r\n\t\t\t\t\t\t\tblock-size=\"15\" backgroundColor=\"rgba(255,255,255,.5)\" activeColor=\"rgba(255,255,255,.5)\" />\r\n\t\t\t\t\t\t<view class=\"time end\">{{playTimeNum}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"isLyric\" class=\"lyric-opcity all-lyric\" :style=\"{height:(height-300) + 'rpx'}\"\r\n\t\t\t\t@click=\"toLyric\">\r\n\t\t\t\t<scroll-view v-if=\"lyric.length>0\" scroll-y=\"true\" :scroll-into-view=\"'view-' + ctrolIndex\"\r\n\t\t\t\t\tstyle=\"height: 100%;\">\r\n\t\t\t\t\t<view :class=\"['ric','ellipsis',index==lyricIndex?'cur':'']\" :id=\"'view-'+index\"\r\n\t\t\t\t\t\t:style=\"{height:((height-300)/13) + 'rpx'}\" v-for=\"(item,index) in lyric\" :key=\"index\">\r\n\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view v-if=\"lyric.length<=0\" class=\"nolyric ric cur flex-center\">\r\n\t\t\t\t\t{{lycur}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<playBottom :isLike=\"isLike\" @cancle=\"cancleLike\" @confirm=\"addLike\" @open=\"openShare\"></playBottom>\r\n\t\t</view>\r\n\t\t<view class=\"poplist-icon flex-align\" @click=\"opentList\">\r\n\t\t\t<view style=\"display: flex;flex-wrap: wrap;justify-content: center;\">\r\n\t\t\t\t<uni-icons type=\"list\" color=\"#6b6b6b\" size=\"50\"></uni-icons>\r\n\t\t\t\t<text style=\"font-size: 28rpx;\">列表</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<uni-popup ref=\"popup\" type=\"bottom\">\r\n\t\t\t<popList ref=\"child\" @close=\"closeList\" @play=\"initPlay\"></popList>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup type=\"share\" ref=\"share\">\r\n\t\t\t<popupShare @select=\"shareWX\"></popupShare>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapGetters,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport {\r\n\t\tapiSong,\r\n\t\tapiSongDetail,\r\n\t\tapiLyic\r\n\t} from '../../api/player.js'\r\n\timport popupShare from '../../components/uni-popup/popupShare.vue'\r\n\timport playBottom from './components/playBottom.vue'\r\n\timport popList from '../../components/popList.vue'\r\n\timport Vue from 'vue'\r\n\tlet update = true;\r\n\tconst db = wx.cloud.database();\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tplayBottom,\r\n\t\t\tpopList,\r\n\t\t\tpopupShare\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcolor: '#fff',\r\n\t\t\t\tbgColor: \"\",\r\n\t\t\t\tsong: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\turl: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tsinger: '',\r\n\t\t\t\t\ttime: 0,\r\n\t\t\t\t\tpicUrl: '',\r\n\t\t\t\t},\r\n\t\t\t\tisCanPlay: true, //资源是否有用\r\n\t\t\t\tisPlay: true, //是否播放\r\n\t\t\t\tlyric: [], //歌词\r\n\t\t\t\tlycur: '',\r\n\t\t\t\tisLyric: false, //是否显示全部歌词\r\n\t\t\t\tlyricIndex: 0, //定位当前歌词\r\n\t\t\t\tlyIndex: 0, //显示部分时控制高亮歌词\r\n\t\t\t\tctrolIndex: 0, //全部显示时控制高亮歌词\r\n\t\t\t\tcurPlayIndex: 0, //当前播放歌曲在list内的索引\r\n\t\t\t\tplayTime: 0,\r\n\t\t\t\tcurPlayTime: 0,\r\n\t\t\t\theight: 0, //内容高度\r\n\t\t\t\tleftIcon: 'back',\r\n\t\t\t\tlikeSong: {}, //收藏歌曲\r\n\t\t\t\tisLike: false, //是否收藏\r\n\t\t\t\tuserId: \"\", //用户收藏id\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(param) {\r\n\t\t\tif (!param.songId) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.height = (res.windowHeight * (750 / res.windowWidth) - this\r\n\t\t\t\t\t\t.topHeight); //将高度乘以换算后的该设备的rpx与px的比例\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tlet id = param.songId;\r\n\t\t\tthis.curPlayIndex = Number(param.index);\r\n\t\t\tthis.initPlay(id);\r\n\t\t\tthis.judgeLike(id);\r\n\t\t\tif (param.list) {\r\n\t\t\t\tconst list = JSON.parse(decodeURIComponent(param.list));\r\n\t\t\t\tthis.setAudiolist(list);\r\n\t\t\t\t// console.log(list)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(['topHeight', 'playdetail', 'audiolist', 'isplayingmusic']),\r\n\t\t\tplayTimeNum() {\r\n\t\t\t\tif (this.playdetail) {\r\n\t\t\t\t\treturn this.$util.formatTime(this.playdetail.time)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.$util.formatTime(this.playTime)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcurPlayTimeNum() {\r\n\t\t\t\treturn this.$util.formatTime(this.curPlayTime)\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setAudiolist', 'setPlaydetail', 'setIsplayingmusic', 'setIsplayactive']),\r\n\t\t\tshareWX() {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.share({\r\n\t\t\t\t\t\t\tprovider: \"weixin\",\r\n\t\t\t\t\t\t\tscene: \"WXSceneSession\",\r\n\t\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\t\thref: \"http://uniapp.dcloud.io/\",\r\n\t\t\t\t\t\t\ttitle: \"uni-app分享\",\r\n\t\t\t\t\t\t\tsummary: \"我正在使用HBuilderX开发uni-app，赶紧跟我一起来体验！\",\r\n\t\t\t\t\t\t\timageUrl: \"https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-uni-app-doc/d8590190-4f28-11eb-b680-7980c8a877b8.png\",\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"success:\" + JSON.stringify(res));\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"fail:\" + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tthis.authority();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenShare() {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.$refs.share.open('bottom');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\t\t\tdesc: '用于完善资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tthis.$refs.share.open('bottom');\r\n\t\t\t\t\t\t\t\tlet userInfo = {\r\n\t\t\t\t\t\t\t\t\tnickName: res.userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\tavatarUrl: res.userInfo.avatarUrl\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\t\t\t\t\tdata: userInfo\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"为了更好的功能体验,请先登录授权\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topentList() {\r\n\t\t\t\tthis.$refs.popup.open('bottom');\r\n\t\t\t},\r\n\t\t\tcloseList() {\r\n\t\t\t\tthis.$refs.popup.close();\r\n\t\t\t},\r\n\t\t\t//进度条\r\n\t\t\tsliderChange(e) {\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tthis.curPlayTime = e.detail.value;\r\n\t\t\t\tthis.$au_player.seek(this.curPlayTime)\r\n\t\t\t},\r\n\t\t\t//上一首播放\r\n\t\t\tprev() {\r\n\t\t\t\tconst index = this.$refs.child.getIndex('prev');\r\n\t\t\t\tthis.curPlayIndex = index;\r\n\t\t\t\tthis.initPlay(this.audiolist[index].id)\r\n\t\t\t},\r\n\t\t\t//下一首播放\r\n\t\t\tnext(isAuto, isCon) {\r\n\t\t\t\tconst index = this.$refs.child.getIndex('next', isAuto)\r\n\t\t\t\tthis.curPlayIndex = index;\r\n\t\t\t\t// console.log(this.audiolist[index])\r\n\t\t\t\tthis.initPlay(this.audiolist[index].id)\r\n\t\t\t},\r\n\t\t\t//获取歌曲数据并开始播放\r\n\t\t\tinitPlay(id) {\r\n\t\t\t\tVue.prototype.cusPlay = this.onPlayFn;\r\n\t\t\t\tVue.prototype.cusTimeUpdate = this.onTimeUpdateFn\r\n\t\t\t\tVue.prototype.cusEnded = this.onEndedFn;\r\n\t\t\t\tPromise.all([apiSong({\r\n\t\t\t\t\tid\r\n\t\t\t\t}), apiSongDetail({\r\n\t\t\t\t\tids: id\r\n\t\t\t\t})]).then(res => {\r\n\t\t\t\t\tconst surl = res[0].data[0].url;\r\n\t\t\t\t\tif (!surl) {\r\n\t\t\t\t\t\tthis.isCanPlay = false;\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\ttitle: '资源已失效'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 500);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.isCanPlay = true;\r\n\t\t\t\t\tconst sdetail = res[1].songs[0];\r\n\t\t\t\t\tconst singer = sdetail.ar.map(t => {\r\n\t\t\t\t\t\treturn t.name\r\n\t\t\t\t\t}).join('/');\r\n\t\t\t\t\tthis.lycur = '';\r\n\t\t\t\t\tthis.song = {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\turl: surl,\r\n\t\t\t\t\t\tname: sdetail.name,\r\n\t\t\t\t\t\tpicUrl: sdetail.al.picUrl,\r\n\t\t\t\t\t\tsinger,\r\n\t\t\t\t\t\ttime: Math.floor(sdetail.dt / 1000) // 播放时长\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: this.song.name\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.setPlaydetail({\r\n\t\t\t\t\t\tindex: this.curPlayIndex,\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tpicUrl: sdetail.al.picUrl,\r\n\t\t\t\t\t\tdesc: sdetail.name,\r\n\t\t\t\t\t\ttime: Math.floor(sdetail.dt / 1000) // 播放时长\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$au_player.url = this.song.url;\r\n\t\t\t\t\tthis.$au_player.title = this.song.name;\r\n\t\t\t\t\tthis.$au_player.coverImgUrl = this.song.picUrl;\r\n\t\t\t\t\tthis.$au_player.singer = this.song.singer;\r\n\t\t\t\t\tthis.$au_player.src = this.song.url;\r\n\r\n\t\t\t\t\tlet OldSong = {\r\n\t\t\t\t\t\tid,\r\n\t\t\t\t\t\tname: sdetail.name,\r\n\t\t\t\t\t\tsinger: singer,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.saveSong(OldSong);\r\n\t\t\t\t\tthis.likeSong = OldSong;\r\n\t\t\t\t}).catch(e => {\r\n\t\t\t\t\tconsole.info(e)\r\n\t\t\t\t\tthis.setIsplayactive(false)\r\n\t\t\t\t})\r\n\t\t\t\t//歌词可以 不用同步加载\r\n\t\t\t\tapiLyic({\r\n\t\t\t\t\tid\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tif (res.uncollected) {\r\n\t\t\t\t\t\tconsole.log('暂未收录歌词');\r\n\t\t\t\t\t\tthis.lycur = '~暂未收录歌词~';\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.nolyric) {\r\n\t\t\t\t\t\tthis.lycur = '~此歌曲为纯音乐，请欣赏~';\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst lines = res.lrc.lyric.split('\\n');\r\n\t\t\t\t\tconst target = []\r\n\t\t\t\t\tfor (let k in lines) {\r\n\t\t\t\t\t\tconst timeMatch = lines[k].match(/\\[(\\d+:\\d+\\.\\d+)\\]/);\r\n\t\t\t\t\t\tlet time = null;\r\n\t\t\t\t\t\tif (timeMatch) {\r\n\t\t\t\t\t\t\tconst ts = timeMatch[1].split(':');\r\n\t\t\t\t\t\t\ttime = Number(ts[0]) * 60 + Number(ts[1])\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget.push({\r\n\t\t\t\t\t\t\ttime,\r\n\t\t\t\t\t\t\ttext: lines[k].replace(/^.+?\\]/, '')\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.lyric = target;\r\n\t\t\t\t\t// console.log(this.lyric)\r\n\t\t\t\t})\r\n\t\t\t\tthis.$forceUpdate();\r\n\t\t\t},\r\n\t\t\t//歌曲正在播放\r\n\t\t\tonPlayFn() {\r\n\t\t\t\tthis.playTime = this.song.time;\r\n\t\t\t\tthis.isPlay = true;\r\n\t\t\t\tthis.setIsplayingmusic(true);\r\n\t\t\t\tthis.setIsplayactive(true);\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t// console.log('onplaying')\r\n\t\t\t},\r\n\t\t\t//根据时间处理歌词，显示高亮\r\n\t\t\tonTimeUpdateFn() {\r\n\t\t\t\tconst curtime = this.$au_player.currentTime\r\n\t\t\t\tthis.curPlayTime = Math.floor(curtime);\r\n\t\t\t\tconst lyric = this.lyric;\r\n\t\t\t\tif (update && lyric.length > 0) {\r\n\t\t\t\t\tfor (let i = 0; i < lyric.length - 1; i++) {\r\n\t\t\t\t\t\tif (lyric[i] !== null && curtime - lyric[i].time < 0.15) {\r\n\t\t\t\t\t\t\tthis.lyricIndex = i - 1;\r\n\t\t\t\t\t\t\tif (this.lyricIndex > 2) {\r\n\t\t\t\t\t\t\t\tthis.lyIndex = this.lyricIndex - 2;\r\n\t\t\t\t\t\t\t} else if (this.lyricIndex > 6) {\r\n\t\t\t\t\t\t\t\tthis.ctrolIndex = this.lyricIndex - 6;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.lyIndex = 0;\r\n\t\t\t\t\t\t\t\tthis.ctrolIndex = 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t},\r\n\t\t\t// //歌曲播放结束\r\n\t\t\tonEndedFn() {\r\n\t\t\t\t// console.log('ended')\r\n\t\t\t\tthis.setIsplayingmusic(false)\r\n\t\t\t\tthis.setIsplayactive(false)\r\n\t\t\t\tthis.next(true);\r\n\t\t\t},\r\n\t\t\t//保存歌曲到历史记录\r\n\t\t\tsaveSong(OldSong) {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'OldSongs',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// console.log(res.data)\r\n\t\t\t\t\t\tlet list = res.data;\r\n\t\t\t\t\t\tlist.forEach((item, index) => {\r\n\t\t\t\t\t\t\tif (item.id == OldSong.id) {\r\n\t\t\t\t\t\t\t\tlist.splice(index, 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlist.unshift(OldSong)\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'OldSongs',\r\n\t\t\t\t\t\t\tdata: list,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\tkey: 'OldSongs',\r\n\t\t\t\t\t\t\tdata: [OldSong]\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlike() {\r\n\t\t\t\tthis.isLike = true;\r\n\t\t\t\tlet id = this.userId;\r\n\t\t\t\tlet likeSong = this.likeSong;\r\n\t\t\t\tdb.collection('userLike').doc(id).get({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t// console.log(\"成功：\"+res);\r\n\t\t\t\t\t\tlet song = res.data.like_songs;\r\n\t\t\t\t\t\t// console.log(re.data);\r\n\t\t\t\t\t\tsong.unshift(likeSong);\r\n\t\t\t\t\t\t// console.log(song);\r\n\t\t\t\t\t\tdb.collection('userLike').doc(id).update({\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tlike_songs: song\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// console.log(es.data)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t// console.log(er);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t// console.log(\"失败：\"+err);\r\n\t\t\t\t\t\tdb.collection('userLike').add({\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t_id: id,\r\n\t\t\t\t\t\t\t\tlike_songs: [likeSong],\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//添加收藏\r\n\t\t\taddLike() {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tthis.like();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\tuni.getUserProfile({\r\n\t\t\t\t\t\t\tdesc: '用于完善资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tthis.like();\r\n\t\t\t\t\t\t\t\tlet userInfo = {\r\n\t\t\t\t\t\t\t\t\tnickName: res.userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\tavatarUrl: res.userInfo.avatarUrl\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tuni.setStorage({\r\n\t\t\t\t\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\t\t\t\t\tdata: userInfo\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"为了更好的功能体验,请先登录授权\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//取消收藏\r\n\t\t\tcancleLike() {\r\n\t\t\t\tthis.isLike = false;\r\n\t\t\t\tlet id = this.userId;\r\n\t\t\t\tlet _id = this.song.id;\r\n\t\t\t\tdb.collection('userLike').doc(id).get({\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet song = res.data.like_songs;\r\n\t\t\t\t\t\tsong.forEach((item, index) => {\r\n\t\t\t\t\t\t\tif (item.id == _id) {\r\n\t\t\t\t\t\t\t\tsong.splice(index, 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// console.log(song);\r\n\t\t\t\t\t\tdb.collection('userLike').doc(id).update({\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tlike_songs: song\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t// console.log(es.data)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: err => {\r\n\t\t\t\t\t\t\t\t// console.log(er);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//判断歌曲是否收藏\r\n\t\t\tjudgeLike(id) {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: \"userId\",\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tlet _id = res.data;\r\n\t\t\t\t\t\tthis.userId = _id;\r\n\t\t\t\t\t\tdb.collection('userLike').doc(_id).get({\r\n\t\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t\t// console.log(\"成功：\");\r\n\t\t\t\t\t\t\t\tlet song = res.data.like_songs;\r\n\t\t\t\t\t\t\t\tsong.forEach(item => {\r\n\t\t\t\t\t\t\t\t\tif (item.id == id) {\r\n\t\t\t\t\t\t\t\t\t\tthis.isLike = true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t// console.log(this.isLike);\r\n\t\t\t},\r\n\t\t\t//控制歌曲播放\r\n\t\t\tplayCtrol() {\r\n\t\t\t\tif (this.isPlay) {\r\n\t\t\t\t\tthis.$au_player.pause();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$au_player.play();\r\n\t\t\t\t}\r\n\t\t\t\tthis.isPlay = !this.isPlay;\r\n\t\t\t\tthis.setIsplayingmusic(this.isPlay)\r\n\t\t\t},\r\n\t\t\t//显示或隐藏全部歌词\r\n\t\t\ttoLyric() {\r\n\t\t\t\tthis.isLyric = !this.isLyric;\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang='scss' scoped>\r\n\t.song-player {\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\t\r\n\t\t.poplist-icon {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 650rpx;\r\n\t\t\tright: 60rpx;\r\n\t\t\theight: 60px;\r\n\t\t\twidth: 30px;\r\n\t\t\tbackground: #FFFFFF;\r\n\t\t\tborder-radius: 15px;\r\n\t\t}\r\n\r\n\t\t.player-bgimg {\r\n\t\t\tposition: absolute;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tfilter: blur(25px);\r\n\t\t\tbackground-position: center center;\r\n\t\t\tbackground-repeat: no-repeat;\r\n\t\t\tbackground-size: cover;\r\n\t\t\tbackground-color: #778899;\r\n\t\t\tbackground-blend-mode: multiply;\r\n\t\t\ttransform: scale(1.5);\r\n\t\t}\r\n\r\n\t\t.player-content {\r\n\t\t\tposition: relative;\r\n\t\t\toverflow: hidden;\r\n\r\n\t\t\t.player-img {\r\n\t\t\t\t&.stoped {\r\n\t\t\t\t\tanimation-play-state: paused;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tanimation: rotate 25s linear infinite;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 70rpx;\r\n\t\t\t\tleft: 150rpx;\r\n\t\t\t\twidth: 450rpx;\r\n\t\t\t\theight: 450rpx;\r\n\t\t\t\tborder-radius: $uni-border-radius-circle;\r\n\t\t\t\tbackground-color: rgba(255, 255, 255, 0.1);\r\n\r\n\t\t\t\t.circle {\r\n\t\t\t\t\twidth: 92%;\r\n\t\t\t\t\theight: 92%;\r\n\t\t\t\t\tborder-radius: $uni-border-radius-circle;\r\n\t\t\t\t\tbackground-color: rgba(255, 255, 255, 0.3);\r\n\r\n\t\t\t\t\t.img {\r\n\t\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\t\theight: 80%;\r\n\t\t\t\t\t\tborder-radius: $uni-border-radius-circle;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.play-ctrol {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: 250rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\tmargin: 0 auto;\r\n\r\n\t\t\t\t.flex-item {\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.isplay {\r\n\t\t\t\t\twidth: 450rpx;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tmargin: 0 auto;\r\n\r\n\t\t\t\t\t.isplay-bg {\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tbackground: rgba(0, 0, 0, 0.8);\r\n\t\t\t\t\t\topacity: 0.8;\r\n\t\t\t\t\t\tborder-radius: $uni-border-radius-circle;\r\n\t\t\t\t\t\tz-index: 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.isplay-img {\r\n\t\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t\tz-index: 100;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t.lyric-opcity {\r\n\t\t\t\t-webkit-mask-image: linear-gradient(to bottom,\r\n\t\t\t\t\t\trgba(255, 255, 255, 0) 0,\r\n\t\t\t\t\t\trgba(255, 255, 255, .6) 15%,\r\n\t\t\t\t\t\trgba(255, 255, 255, 1) 25%,\r\n\t\t\t\t\t\trgba(255, 255, 255, 1) 75%,\r\n\t\t\t\t\t\trgba(255, 255, 255, .6) 85%,\r\n\t\t\t\t\t\trgba(255, 255, 255, 0) 100%);\r\n\t\t\t}\r\n\r\n\t\t\t.player-con-bot {\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\tbottom: 20%;\r\n\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t.player-lyric {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 240rpx;\r\n\t\t\t\t\tmargin-bottom: 50rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.nolyric {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.slider-bar {\r\n\t\t\t\t\twidth: 90%;\r\n\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\tcolor: $uni-bg-color;\r\n\r\n\t\t\t\t\t.line {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.time {\r\n\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\tline-height: 28rpx;\r\n\t\t\t\t\t\tfont-size: $uni-font-size-sm;\r\n\t\t\t\t\t\tmin-width: 66rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.line {\r\n\t\t\t\t\t\tmargin: $uni-spacing-col-base $uni-spacing-row-base;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.start {\r\n\t\t\t\t\t\tmargin-left: $uni-spacing-row-lg;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.end {\r\n\t\t\t\t\t\tmargin-right: $uni-spacing-row-lg;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.all-lyric {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin-top: 70rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.ric {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #F1F1F1;\r\n\t\t\t\tfont-size: $uni-font-size-base;\r\n\t\t\t\topacity: 0.8;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\tmargin: 0 auto;\r\n\r\n\t\t\t\t&.cur {\r\n\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\topacity: 1;\r\n\t\t\t\t\tcolor: $uni-color-success;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotateZ(0deg);\r\n\t\t\t/*从0度开始*/\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotateZ(360deg);\r\n\t\t\t/*360度结束*/\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./player.vue?vue&type=style&index=0&id=108ee09c&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\SoftWare\\\\HBuilderX.3.1.7.20210330.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./player.vue?vue&type=style&index=0&id=108ee09c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1622039699970\n      var cssReload = require(\"D:/SoftWare/HBuilderX.3.1.7.20210330.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}